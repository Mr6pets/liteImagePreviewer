# å¿«é€Ÿå¼€å§‹

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**  
- [README.md](file://README.md)
- [server.js](file://server.js)
- [build.js](file://build.js)
- [package.json](file://package.json)
- [index.html](file://index.html)
- [js/core.js](file://js/core.js)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [çŽ¯å¢ƒè¦æ±‚](#çŽ¯å¢ƒè¦æ±‚)
3. [å®‰è£…ä¸Žè¿è¡Œæ­¥éª¤](#å®‰è£…ä¸Žè¿è¡Œæ­¥éª¤)
4. [æ ¸å¿ƒè„šæœ¬è§£æž](#æ ¸å¿ƒè„šæœ¬è§£æž)
5. [åŸºæœ¬ä½¿ç”¨æµç¨‹](#åŸºæœ¬ä½¿ç”¨æµç¨‹)
6. [å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ](#å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ)
7. [å‘½ä»¤è¡Œæ“ä½œç¤ºä¾‹](#å‘½ä»¤è¡Œæ“ä½œç¤ºä¾‹)
8. [ç•Œé¢å…ƒç´ è¯´æ˜Ž](#ç•Œé¢å…ƒç´ è¯´æ˜Ž)

## ç®€ä»‹
`liteImagePreviewer` æ˜¯ä¸€ä¸ªåŸºäºŽ Web æŠ€æœ¯çš„è½»é‡çº§å›¾ç‰‡é¢„è§ˆå·¥å…·ï¼Œæ”¯æŒå¤šå›¾é¢„è§ˆã€ç¼©æ”¾ã€æ—‹è½¬ã€å…¨å±ã€æ‹–æ‹½ä¸Šä¼ ç­‰äº¤äº’åŠŸèƒ½ï¼Œé€‚ç”¨äºŽé›†æˆåˆ°ä»£ç ç¼–è¾‘å™¨æˆ–æœ¬åœ°å¿«é€ŸæŸ¥çœ‹å›¾ç‰‡ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ–°æ‰‹åœ¨ 5 åˆ†é’Ÿå†…å®ŒæˆçŽ¯å¢ƒæ­å»ºå¹¶æˆåŠŸè¿è¡Œé¡¹ç›®ã€‚

## çŽ¯å¢ƒè¦æ±‚
- Node.js >= 14.0.0
- npm >= 6.0.0

å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ç‰ˆæœ¬ï¼š
```bash
node --version
npm --version
```

## å®‰è£…ä¸Žè¿è¡Œæ­¥éª¤
æŒ‰ç…§ä»¥ä¸‹å››æ­¥å³å¯å¿«é€Ÿå¯åŠ¨é¡¹ç›®ï¼š

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/Mr6pets/liteImagePreviewer.git
   cd liteImagePreviewer
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm start
   ```
   æ­¤å‘½ä»¤ä¼šæ‰§è¡Œ `server.js`ï¼Œä½¿ç”¨ Express å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ã€‚

4. **è®¿é—®åº”ç”¨**
   æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š[http://localhost:3000](http://localhost:3000)

**Section sources**
- [README.md](file://README.md#L60-L80)
- [package.json](file://package.json#L6-L8)
- [server.js](file://server.js#L0-L15)

## æ ¸å¿ƒè„šæœ¬è§£æž

### server.jsï¼šé™æ€æ–‡ä»¶æœåŠ¡ä¸Žè·¯ç”±
`server.js` ä½¿ç”¨ Express æ¡†æž¶æ‰˜ç®¡é™æ€èµ„æºå¹¶æä¾›ä¸»é¡µæœåŠ¡ï¼š
- `express.static(__dirname)`ï¼šå°†é¡¹ç›®æ ¹ç›®å½•è®¾ä¸ºé™æ€èµ„æºç›®å½•ï¼Œè‡ªåŠ¨æœåŠ¡ `index.html`ã€`js/`ã€`public/css/` ç­‰æ–‡ä»¶ã€‚
- `/` è·¯ç”±ï¼šè¿”å›ž `index.html` ä½œä¸ºé¦–é¡µã€‚
- ç›‘å¬ç«¯å£ `3000`ï¼ˆå¯é€šè¿‡ `PORT` çŽ¯å¢ƒå˜é‡ä¿®æ”¹ï¼‰ã€‚

```mermaid
flowchart TD
A["å¯åŠ¨ server.js"] --> B["åˆ›å»º Express åº”ç”¨"]
B --> C["å¯ç”¨é™æ€æ–‡ä»¶æœåŠ¡"]
C --> D["è®¾ç½®ä¸»é¡µè·¯ç”± /"]
D --> E["ç›‘å¬ç«¯å£ 3000"]
E --> F["æŽ§åˆ¶å°è¾“å‡ºè¿è¡Œä¿¡æ¯"]
```

**Diagram sources**
- [server.js](file://server.js#L5-L15)

### build.jsï¼šæž„å»ºä¸Žèµ„æºåŽ‹ç¼©
`build.js` è´Ÿè´£æ‰“åŒ…å‘å¸ƒç‰ˆæœ¬ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
- åˆ›å»º `dist` è¾“å‡ºç›®å½•
- å¤åˆ¶æ— éœ€å¤„ç†çš„æ–‡ä»¶ï¼ˆå¦‚ `index.html`ã€`LICENSE`ï¼‰
- ä½¿ç”¨ `terser` åŽ‹ç¼© JavaScript æ–‡ä»¶
- ä½¿ç”¨ `clean-css` åŽ‹ç¼© CSS æ–‡ä»¶
- ä½¿ç”¨ `archiver` å°† `dist` æ‰“åŒ…ä¸º `liteImagePreviewer.zip`

è¯¥è„šæœ¬é€šè¿‡ `npm run dist` è°ƒç”¨ï¼Œç”¨äºŽç”Ÿæˆå¯éƒ¨ç½²çš„è½»é‡çº§å‘å¸ƒåŒ…ã€‚

```mermaid
flowchart TD
A["æ‰§è¡Œ build.js"] --> B["åˆ›å»º dist ç›®å½•"]
B --> C["å¤åˆ¶åŸºç¡€æ–‡ä»¶"]
C --> D["åŽ‹ç¼© JS æ–‡ä»¶"]
D --> E["åŽ‹ç¼© CSS æ–‡ä»¶"]
E --> F["æ‰“åŒ…ä¸º ZIP"]
F --> G["è¾“å‡ºæž„å»ºå®Œæˆä¿¡æ¯"]
```

**Diagram sources**
- [build.js](file://build.js#L0-L115)

**Section sources**
- [build.js](file://build.js#L0-L115)
- [package.json](file://package.json#L12-L13)

## åŸºæœ¬ä½¿ç”¨æµç¨‹
1. **æ‰“å¼€é¡µé¢**ï¼šè®¿é—® `http://localhost:3000`
2. **ä¸Šä¼ å›¾ç‰‡**ï¼š
   - ç‚¹å‡»â€œé€‰æ‹©å›¾ç‰‡æ–‡ä»¶â€æŒ‰é’®
   - æˆ–ç›´æŽ¥å°†å›¾ç‰‡æ‹–æ‹½è‡³é¡µé¢
3. **æŸ¥çœ‹ç¼©ç•¥å›¾ç½‘æ ¼**ï¼šä¸Šä¼ çš„å›¾ç‰‡ä»¥ç¼©ç•¥å›¾å½¢å¼å±•ç¤ºåœ¨åˆ—è¡¨ä¸­
4. **ç‚¹å‡»ç¼©ç•¥å›¾é¢„è§ˆ**ï¼šç‚¹å‡»ä»»ä¸€ç¼©ç•¥å›¾è¿›å…¥é¢„è§ˆæ¨¡å¼
5. **ä½¿ç”¨æŽ§åˆ¶æŒ‰é’®**ï¼š
   - ðŸ”+ / ðŸ”-ï¼šæ”¾å¤§/ç¼©å°
   - â†º / â†»ï¼šé€†æ—¶é’ˆ/é¡ºæ—¶é’ˆæ—‹è½¬
   - â›¶ï¼šå…¨å±åˆ‡æ¢
   - âŸ²ï¼šé‡ç½®è§†å›¾
   - âœ•ï¼šå…³é—­é¢„è§ˆ
6. **è¿›å…¥ç¼–è¾‘æ¨¡å¼**ï¼šç‚¹å‡»â€œç¼–è¾‘å›¾ç‰‡â€æŒ‰é’®ï¼ˆæˆ–æŒ‰ `E`ï¼‰ï¼Œå¯è°ƒæ•´äº®åº¦ã€å¯¹æ¯”åº¦ã€é¥±å’Œåº¦ï¼Œæ·»åŠ æ»¤é•œã€è£å‰ªã€æ°´å°ç­‰

**Section sources**
- [index.html](file://index.html#L20-L165)
- [js/core.js](file://js/core.js#L0-L28)

## å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ

| é—®é¢˜ | åŽŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| ç«¯å£ 3000 è¢«å ç”¨ | å…¶ä»–ç¨‹åºæ­£åœ¨ä½¿ç”¨ 3000 ç«¯å£ | ä¿®æ”¹ `server.js` ä¸­çš„ `PORT` å˜é‡ï¼Œå¦‚ `const PORT = 3001` |
| æƒé™é”™è¯¯ | æ— å†™å…¥æƒé™æˆ–å…¨å±€å®‰è£…æƒé™ä¸è¶³ | ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œå‘½ä»¤ï¼Œæˆ–æ£€æŸ¥é¡¹ç›®ç›®å½•æƒé™ |
| ä¾èµ–å®‰è£…å¤±è´¥ | ç½‘ç»œé—®é¢˜æˆ– npm æºä¸ç¨³å®š | æ›´æ¢ npm æºï¼ˆå¦‚ `npm config set registry https://registry.npmmirror.com`ï¼‰åŽé‡è¯• |
| Sass ç¼–è¯‘å¤±è´¥ | æœªå®‰è£… Sass æˆ–ç‰ˆæœ¬ä¸å…¼å®¹ | è¿è¡Œ `npm install -g sass` å…¨å±€å®‰è£… Sass |
| é¡µé¢ç©ºç™½ | æž„å»ºæœªå®Œæˆæˆ–è·¯å¾„é”™è¯¯ | ç¡®ä¿å·²è¿è¡Œ `npm run sass:build` ç”Ÿæˆ `public/css/main.css` |

**Section sources**
- [README.md](file://README.md#L85-L95)
- [package.json](file://package.json#L9-L11)

## å‘½ä»¤è¡Œæ“ä½œç¤ºä¾‹
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Mr6pets/liteImagePreviewer.git
cd liteImagePreviewer

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨æœåŠ¡å™¨
npm start

# ï¼ˆå¯é€‰ï¼‰å¼€å‘æ¨¡å¼ï¼šç›‘å¬ Sass å˜åŒ–å¹¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨
npm run dev

# ï¼ˆå¯é€‰ï¼‰æž„å»ºåŽ‹ç¼©ç‰ˆæœ¬
npm run dist
```

## ç•Œé¢å…ƒç´ è¯´æ˜Ž
- **é€‰æ‹©å›¾ç‰‡æ–‡ä»¶æŒ‰é’®**ï¼šè§¦å‘æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œæ”¯æŒå¤šé€‰
- **ç¼©ç•¥å›¾ç½‘æ ¼**ï¼šæ˜¾ç¤ºå·²ä¸Šä¼ å›¾ç‰‡çš„ç¼©ç•¥å›¾ï¼Œç‚¹å‡»å¯é¢„è§ˆ
- **é¢„è§ˆçª—å£**ï¼š
  - å›¾ç‰‡å®¹å™¨ï¼šæ”¯æŒé¼ æ ‡æ»šè½®ç¼©æ”¾ã€æ‹–æ‹½ç§»åŠ¨
  - æŽ§åˆ¶æ ï¼šæä¾›ç¼©æ”¾ã€æ—‹è½¬ã€å…¨å±ã€é‡ç½®ç­‰æŒ‰é’®
  - å›¾ç‰‡ä¿¡æ¯ï¼šæ˜¾ç¤ºå½“å‰å›¾ç‰‡åºå·å’Œæ–‡ä»¶å
  - å¯¼èˆªæŒ‰é’®ï¼šâ€¹ å’Œ â€º ç”¨äºŽåˆ‡æ¢ä¸Šä¸‹å¼ å›¾ç‰‡
- **ç¼–è¾‘é¢æ¿**ï¼š
  - åŸºç¡€è°ƒæ•´ï¼šäº®åº¦ã€å¯¹æ¯”åº¦ã€é¥±å’Œåº¦æ»‘å—
  - æ»¤é•œæ•ˆæžœï¼šé»‘ç™½ã€å¤å¤ã€åè‰²ç­‰ä¸€é”®åº”ç”¨
  - è£å‰ªä¸Žæ°´å°ï¼šæ”¯æŒäº¤äº’å¼è£å‰ªå’Œè‡ªå®šä¹‰æ°´å°

```mermaid
graph TB
A["ç”¨æˆ·ç•Œé¢"] --> B["å¤´éƒ¨åŒºåŸŸ"]
A --> C["ç¼©ç•¥å›¾åˆ—è¡¨"]
A --> D["é¢„è§ˆå™¨"]
B --> B1["æ ‡é¢˜ï¼šè½»ä¾¿ç‰ˆå›¾ç‰‡é¢„è§ˆå™¨"]
B --> B2["æ–‡ä»¶é€‰æ‹©æŒ‰é’®"]
C --> C1["ç©ºçŠ¶æ€æç¤º"]
C --> C2["ç¼©ç•¥å›¾ç½‘æ ¼"]
D --> D1["æŽ§åˆ¶æ "]
D --> D2["å›¾ç‰‡å®¹å™¨"]
D --> D3["å¯¼èˆªæŒ‰é’®"]
D --> D4["ç¼–è¾‘é¢æ¿"]
D1 --> D1a["ç¼©æ”¾"]
D1 --> D1b["æ—‹è½¬"]
D1 --> D1c["å…¨å±"]
D1 --> D1d["é‡ç½®"]
D1 --> D1e["å…³é—­"]
```

**Diagram sources**
- [index.html](file://index.html#L20-L165)

**Section sources**
- [index.html](file://index.html#L20-L165)
- [js/core.js](file://js/core.js#L0-L28)